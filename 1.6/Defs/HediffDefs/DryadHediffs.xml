<?xml version="1.0" encoding="utf-8" ?>
<Defs>

<ThingDef Name="BodyPartDryadicPartBase" ParentName="BodyPartBase" Abstract="True">
    <techLevel>Medieval</techLevel>
    <thingCategories>
      <li>BodyPartsBionic</li>
    </thingCategories>
    <graphicData>
      <texPath>Things/Item/Health/DryadBionic</texPath>
      <graphicClass>Graphic_Single</graphicClass>
      <drawSize>0.80</drawSize>
      <color>(212, 160, 23)</color>
    </graphicData>
    <tradeTags>
      <li>Bionic</li>
    </tradeTags>
    <statBases>
      <WorkToMake>10000</WorkToMake>
    </statBases>
    <recipeMaker>
      <workSpeedStat>GeneralLaborSpeed</workSpeedStat>
      <workSkill>Crafting</workSkill>
      <effectWorking>Smith</effectWorking>
      <soundWorking>Recipe_Smith</soundWorking>
      <unfinishedThingDef>UnfinishedHealthItemBionic</unfinishedThingDef>
      <skillRequirements>
        <Crafting>8</Crafting>
      </skillRequirements>
      <researchPrerequisite>Grafting</researchPrerequisite>
      <recipeUsers>
        <li>GroveCrucible</li>
      </recipeUsers>
      <displayPriority>300</displayPriority>
    </recipeMaker>
  </ThingDef>

<!-- Carrier Dryad -->

<HediffDef ParentName="AddedBodyPartBase">
    <defName>BurdenReducer</defName>
    <label>burden reducer</label>
    <labelNoun>a burden reducer</labelNoun>
    <description>An installed burden reducer. The spine of a carrier dryad grafted with an existing spine. It is superior to human spines.</description>
    <descriptionHyperlinks><ThingDef>BurdenReducer</ThingDef></descriptionHyperlinks>
    <spawnThingOnRemoved>BurdenReducer</spawnThingOnRemoved>
    <addedPartProps>
      <solid>true</solid>
      <betterThanNatural>true</betterThanNatural>
    </addedPartProps>
  </HediffDef>

  <ThingDef ParentName="BodyPartDryadicPartBase">
    <defName>BurdenReducer</defName>
    <label>burden reducer</label>
    <description>A kit to graft onto a spine. Contains the necessary components to perform a proper grafting.</description>
    <descriptionHyperlinks><RecipeDef>InstallBionicSpine</RecipeDef></descriptionHyperlinks>
    <costList>
      <Jade>25</Jade>
      <ComponentDryad_Carrier>4</ComponentDryad_Carrier>
    </costList>
    <statBases>
      <Mass>2</Mass>
    </statBases>
  </ThingDef>

  <RecipeDef ParentName="SurgeryInstallBodyPartArtificialBase">
    <defName>InstallBurdenReducer</defName>
    <label>install burden reducer</label>
    <description>Install a burden reducer.</description>
    <descriptionHyperlinks>
      <ThingDef>BurdenReducer</ThingDef>
      <HediffDef>BurdenReducer</HediffDef>
    </descriptionHyperlinks>
    <jobString>Installing burden reducer.</jobString>
    <ingredients>
      <li>
        <filter>
          <thingDefs>
            <li>BurdenReducer</li>
          </thingDefs>
        </filter>
        <count>1</count>
      </li>
    </ingredients>
    <fixedIngredientFilter>
      <thingDefs>
        <li>BurdenReducer</li>
      </thingDefs>
    </fixedIngredientFilter>
    <appliedOnFixedBodyParts>
      <li>Spine</li>
    </appliedOnFixedBodyParts>
    <addsHediff>BurdenReducer</addsHediff>
  </RecipeDef>

<!-- Clawer Dryad -->

  <HediffDef ParentName="ImplantHediffBase">
    <defName>ClawerGlands</defName>
    <label>clawer glands</label>
    <labelNoun>clawer glands</labelNoun>
    <description>Installed clawer glands. A set of glands extracted from a clawer dryad, it enhances reflexes and perception.</description>
    <descriptionHyperlinks><ThingDef>ClawerGlands</ThingDef></descriptionHyperlinks>
    <spawnThingOnRemoved>ClawerGlands</spawnThingOnRemoved>
    <stages>
      <li>
        <statFactors>
          <MeleeDamageFactor>1.2</MeleeDamageFactor>
        </statFactors>
        <statOffsets>
          <MoveSpeed>0.45</MoveSpeed>
          <RestFallRateFactor>-0.1</RestFallRateFactor>
        </statOffsets>
        <capMods>
            <li>
              <capacity>BloodPumping</capacity>
              <offset>0.25</offset>
            </li>
        </capMods>
      </li>
    </stages>
  </HediffDef>

  <ThingDef ParentName="BodyPartDryadicPartBase">
    <defName>ClawerGlands</defName>
    <label>clawer glands</label>
    <description>A set of glands extracted from a clawer dryad, it enhances reflexes and perception. These nodules constantly pump dryadic compounds and adrenaline into the user's bloodstream.</description>
    <descriptionHyperlinks><RecipeDef>InstallClawerGlands</RecipeDef></descriptionHyperlinks>
    <thingSetMakerTags><li>RewardStandardLowFreq</li></thingSetMakerTags>
    <costList>
      <Steel>15</Steel>
      <WoodLog>20</WoodLog>
      <ComponentDryad_Clawer>3</ComponentDryad_Clawer>
    </costList>
    <recipeMaker>
      <researchPrerequisite>Grafting</researchPrerequisite>
    </recipeMaker>
  </ThingDef>

  <RecipeDef ParentName="SurgeryInstallImplantBase">
    <defName>InstallClawerGlands</defName>
    <label>install clawer glands</label>
    <description>Install clawer glands.</description>
    <descriptionHyperlinks>
      <ThingDef>ClawerGlands</ThingDef>
      <HediffDef>ClawerGlands</HediffDef>
    </descriptionHyperlinks>
    <jobString>Installing clawer glands.</jobString>
    <ingredients>
      <li>
        <filter>
          <thingDefs>
            <li>ClawerGlands</li>
          </thingDefs>
        </filter>
        <count>1</count>
      </li>
    </ingredients>
    <fixedIngredientFilter>
      <thingDefs>
        <li>ClawerGlands</li>
      </thingDefs>
    </fixedIngredientFilter>
    <appliedOnFixedBodyParts>
      <li>Torso</li>
    </appliedOnFixedBodyParts>
    <addsHediff>ClawerGlands</addsHediff>
  </RecipeDef>
  
  <RecipeDef ParentName="SurgeryRemoveImplantBase">
    <defName>RemoveClawerGlands</defName>
    <label>remove clawer glands</label>
    <description>Remove clawer glands.</description>
    <descriptionHyperlinks>
      <ThingDef>ClawerGlands</ThingDef>
      <HediffDef>ClawerGlands</HediffDef>
    </descriptionHyperlinks>
    <jobString>Removing clawer glands.</jobString>
    <removesHediff>ClawerGlands</removesHediff>
  </RecipeDef>

<!-- Barkskin Dryad -->

<HediffDef ParentName="ImplantHediffBase">
    <defName>Barkplate</defName>
    <label>barkplate</label>
    <labelNoun>a barkplate implant</labelNoun>
    <description>Installed barkplate implant. A set of plates extracted from a barkskin dryad, it slows the user but increases their armor.</description>
    <descriptionHyperlinks><ThingDef>ClawerGlands</ThingDef></descriptionHyperlinks>
    <spawnThingOnRemoved>ClawerGlands</spawnThingOnRemoved>
    <stages>
      <li>
        <statFactors>
          <MeleeDamageFactor>1.2</MeleeDamageFactor>
        </statFactors>
        <statOffsets>
          <ArmorRating_Sharp>0.4</ArmorRating_Sharp>
          <ArmorRating_Blunt>0.3</ArmorRating_Blunt>
          <ArmorRating_Heat>0.1</ArmorRating_Heat>        
        </statOffsets>
      </li>
    </stages>
  </HediffDef>

  <ThingDef ParentName="BodyPartDryadicPartBase">
    <defName>Barkplate</defName>
    <label>barkplate</label>
    <description>A set of plates extracted from a barkskin dryad crudely stitched into the skin of the user, enhancing their toughness.</description>
    <descriptionHyperlinks><RecipeDef>InstallBarkplate</RecipeDef></descriptionHyperlinks>
    <thingSetMakerTags><li>RewardStandardLowFreq</li></thingSetMakerTags>
    <costList>
      <Steel>15</Steel>
      <WoodLog>20</WoodLog>
      <ComponentDryad_Barkskin>3</ComponentDryad_Barkskin>
    </costList>
    <recipeMaker>
      <researchPrerequisite>Grafting</researchPrerequisite>
    </recipeMaker>
  </ThingDef>

  <RecipeDef ParentName="SurgeryInstallImplantBase">
    <defName>InstallBarkplate</defName>
    <label>install barkplate</label>
    <description>Install barkplate.</description>
    <descriptionHyperlinks>
      <ThingDef>Barkplate</ThingDef>
      <HediffDef>Barkplate</HediffDef>
    </descriptionHyperlinks>
    <jobString>Installing barkplate.</jobString>
    <ingredients>
      <li>
        <filter>
          <thingDefs>
            <li>Barkplate</li>
          </thingDefs>
        </filter>
        <count>1</count>
      </li>
    </ingredients>
    <fixedIngredientFilter>
      <thingDefs>
        <li>Barkplate</li>
      </thingDefs>
    </fixedIngredientFilter>
    <appliedOnFixedBodyParts>
      <li>Torso</li>
    </appliedOnFixedBodyParts>
    <addsHediff>Barkplate</addsHediff>
  </RecipeDef>
  
  <RecipeDef ParentName="SurgeryRemoveImplantBase">
    <defName>RemoveBarkplate</defName>
    <label>remove barkplate</label>
    <description>Remove barkplate.</description>
    <descriptionHyperlinks>
      <ThingDef>Barkplate</ThingDef>
      <HediffDef>Barkplate</HediffDef>
    </descriptionHyperlinks>
    <jobString>Removing barkplate.</jobString>
    <removesHediff>Barkplate</removesHediff>
  </RecipeDef>

<!-- Berrymaker Dryad -->

<HediffDef ParentName="ImplantHediffBase">
    <defName>BerrymakerPods</defName>
    <label>berrymaker pods</label>
    <labelNoun>berrymaker pods implant</labelNoun>
    <description>Installed berrymaker implant. It allows the user to periodically grow berries on their back.</description>
    <descriptionHyperlinks><ThingDef>BerrymakerPods</ThingDef></descriptionHyperlinks>
    <spawnThingOnRemoved>ClawerGlands</spawnThingOnRemoved>
    <stages>
      <li>
        <hungerRateFactorOffset>0.5</hungerRateFactorOffset>
        <statFactors>
          <MoveSpeed>-0.2</MoveSpeed>
        </statFactors>
      </li>
    </stages>
  <comps>
	<li Class="VEF.AnimalBehaviours.HediffCompProperties_Spawner">
		<thingToSpawn>RawBerries</thingToSpawn>
		<spawnCount>12</spawnCount>
		<spawnIntervalRange>25000~45000</spawnIntervalRange>
		<spawnMaxAdjacent>30</spawnMaxAdjacent>
		<spawnForbidden>false</spawnForbidden>
		<showMessageIfOwned>false</showMessageIfOwned>		
	</li>
  </comps>
  </HediffDef>

  <ThingDef ParentName="BodyPartDryadicPartBase">
    <defName>BerrymakerPods</defName>
    <label>berrymaker pods</label>
    <description>A set of pods extracted from a berrymaker dryad, these are implanted into the back of a person.</description>
    <descriptionHyperlinks><RecipeDef>InstallBerrymakerPods</RecipeDef></descriptionHyperlinks>
    <thingSetMakerTags><li>RewardStandardLowFreq</li></thingSetMakerTags>
    <costList>
      <Steel>15</Steel>
      <WoodLog>20</WoodLog>
      <ComponentDryad_Barkskin>3</ComponentDryad_Barkskin>
    </costList>
    <recipeMaker>
      <researchPrerequisite>Grafting</researchPrerequisite>
    </recipeMaker>
  </ThingDef>

  <RecipeDef ParentName="SurgeryInstallImplantBase">
    <defName>InstallBerrymakerPods</defName>
    <label>install berrymaker pods</label>
    <description>Install berrymaker pods.</description>
    <descriptionHyperlinks>
      <ThingDef>BerrymakerPods</ThingDef>
      <HediffDef>BerrymakerPods</HediffDef>
    </descriptionHyperlinks>
    <jobString>Installing berrymaker pods.</jobString>
    <ingredients>
      <li>
        <filter>
          <thingDefs>
            <li>BerrymakerPods</li>
          </thingDefs>
        </filter>
        <count>1</count>
      </li>
    </ingredients>
    <fixedIngredientFilter>
      <thingDefs>
        <li>BerrymakerPods</li>
      </thingDefs>
    </fixedIngredientFilter>
    <appliedOnFixedBodyParts>
      <li>Torso</li>
    </appliedOnFixedBodyParts>
    <addsHediff>BerrymakerPods</addsHediff>
  </RecipeDef>
  
  <RecipeDef ParentName="SurgeryRemoveImplantBase">
    <defName>RemoveBerrymakerPods</defName>
    <label>remove berrymaker pods</label>
    <description>Remove berrymaker pods.</description>
    <descriptionHyperlinks>
      <ThingDef>BerrymakerPods</ThingDef>
      <HediffDef>BerrymakerPods</HediffDef>
    </descriptionHyperlinks>
    <jobString>Removing berrymaker pods.</jobString>
    <removesHediff>BerrymakerPods</removesHediff>
  </RecipeDef>

<!-- Medicinemaker Dryad -->

  <HediffDef ParentName="ImplantHediffBase">
    <defName>VitalityEnhancer</defName>
    <label>vitality enhancer</label>
    <labelNoun>a vitality enhancer</labelNoun>
    <description>An installed vitality enhancer. Grafted glands from a medicinemaker dryad that release natural healing compounds into the bloodstream. These dryadic essences stimulate both wound healing and the body's immune response, helping fight off diseases and recover from injuries more effectively. This implant is a tribal alternative to advanced imperial bionics, using the natural healing properties of dryads.</description>
    <descriptionHyperlinks><ThingDef>VitalityEnhancer</ThingDef></descriptionHyperlinks>
    <spawnThingOnRemoved>VitalityEnhancer</spawnThingOnRemoved>
    <stages>
      <li>
        <naturalHealingFactor>1.2</naturalHealingFactor>
        <statOffsets>
          <ImmunityGainSpeed>0.03</ImmunityGainSpeed>
        </statOffsets>
      </li>
    </stages>
  </HediffDef>

  <ThingDef ParentName="BodyPartDryadicPartBase">
    <defName>VitalityEnhancer</defName>
    <label>vitality enhancer</label>
    <description>Grafted glands from a medicinemaker dryad that release natural healing compounds into the bloodstream. These dryadic essences stimulate both wound healing and the body's immune response, helping fight off diseases and recover from injuries more effectively.</description>
    <descriptionHyperlinks><RecipeDef>InstallVitalityEnhancer</RecipeDef></descriptionHyperlinks>
    <thingSetMakerTags><li>RewardStandardLowFreq</li></thingSetMakerTags>
    <costList>
      <Jade>15</Jade>
      <ComponentDryad_Medicinemaker>4</ComponentDryad_Medicinemaker>
    </costList>
    <recipeMaker>
      <researchPrerequisite>Grafting</researchPrerequisite>
    </recipeMaker>
  </ThingDef>

  <RecipeDef ParentName="SurgeryInstallImplantBase">
    <defName>InstallVitalityEnhancer</defName>
    <label>install vitality enhancer</label>
    <description>Install a vitality enhancer.</description>
    <descriptionHyperlinks>
      <ThingDef>VitalityEnhancer</ThingDef>
      <HediffDef>VitalityEnhancer</HediffDef>
    </descriptionHyperlinks>
    <jobString>Installing vitality enhancer.</jobString>
    <ingredients>
      <li>
        <filter>
          <thingDefs>
            <li>VitalityEnhancer</li>
          </thingDefs>
        </filter>
        <count>1</count>
      </li>
    </ingredients>
    <fixedIngredientFilter>
      <thingDefs>
        <li>VitalityEnhancer</li>
      </thingDefs>
    </fixedIngredientFilter>
    <appliedOnFixedBodyParts>
      <li>Torso</li>
    </appliedOnFixedBodyParts>
    <addsHediff>VitalityEnhancer</addsHediff>
  </RecipeDef>
  
  <RecipeDef ParentName="SurgeryRemoveImplantBase">
    <defName>RemoveVitalityEnhancer</defName>
    <label>remove vitality enhancer</label>
    <description>Remove vitality enhancer.</description>
    <descriptionHyperlinks>
      <ThingDef>VitalityEnhancer</ThingDef>
      <HediffDef>VitalityEnhancer</HediffDef>
    </descriptionHyperlinks>
    <jobString>Removing vitality enhancer.</jobString>
    <removesHediff>VitalityEnhancer</removesHediff>
  </RecipeDef>


</Defs>
